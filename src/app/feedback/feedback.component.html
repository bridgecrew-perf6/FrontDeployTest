<h1>List of all feedbacks</h1>
<div class="container" style="margin-top: 70px;">
    <table class="table table-hover">
      <thead>
        <tr>

          <th>Category</th>
          <th>Text</th>
          <th>Date</th>
          <th>Resolved</th>
          <th>Img</th>
          <th>Username</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let feedback of feedbacks">

          <td> {{ feedback.feedbackCategoryName }}</td>
          <td> {{ feedback.text }}</td>
          <td> {{ feedback.date }}</td>
          <td> {{ feedback.resolved }}</td>
          <td> <img id="myImg" src={{feedback.img}} alt="feedback photo" width="200" height="200"></td>
          <td> {{ feedback.username }}</td>


          <td>

            <button class="btn btn-primary" (click)="selectFeedback(feedback)"> Show details</button>
          </td>
        </tr>
      </tbody>
    </table>
</div>
<div id="myModal" class="modal">

  <!-- The Close Button -->
  <span class="close">&times;</span>

  <!-- Modal Content (The Image) -->
  <img class="modal-content" id="img01">

  <!-- Modal Caption (Image Text) -->
  <div id="caption"></div>
</div>
<div class="card text-center" *ngIf="selectedFeedback">
  <div class="card-header">
    # {{selectedFeedback.img}}
  </div>
  <div class="card-block">
    <h4 class="card-title">{{selectedFeedback.img}}</h4>
    <p class="card-text">
      {{selectedFeedback.text}}
    </p>
  </div>

</div>

<!--<button class="btn btn-primary" *ngIf="selectedFeedback" (click)="deleteFeedback()"> Delete product</button>-->

<!--<div class="container" style="margin-top: 70px;" *ngIf="isadmin|async">-->

  <div class="container">
    <form [formGroup]="form" (ngSubmit)="submitForm()">

        <input type="file" (change)="uploadFile($event)">



        <input placeholder="FeedbackCategoryName" formControlName="FeedbackCategoryName">
        <input placeholder="text" formControlName="text">
        <input placeholder="date" formControlName="date">
        <input placeholder="username" formControlName="username">


        <button>Create</button>

    </form>
</div>
  <br>





<div *ngIf="isCameraExist; else noCameraExist">
  <div style="text-align:center">
      <div class="btn-group">
          <button class="button" (click)="takeSnapshot()">Take Picture</button>
          <button class="button" (click)="changeWebCame(true)">Toggle Camera</button>
          <button class="button" (click)="onOffWebCame()">Switch camera</button>
      </div> <br />
      <webcam [height]="500" [width]="1000" [trigger]="triggerObservable" (imageCapture)="handleImage($event)"
          *ngIf="showWebcam" [switchCamera]="nextWebcamObservable"></webcam>
  </div>

  <div *ngIf="errors.length > 0">
      <h4>Error Messages:</h4>
      <ul *ngFor="let error of errors">
          <li>{{ error | json }}</li>
      </ul>
  </div>
</div>

<ng-template #noCameraExist>
  Camera device not available
</ng-template>

<script>
  // Get the modal
var modal = document.getElementById("myModal");

// Get the image and insert it inside the modal - use its "alt" text as a caption
var img = document.getElementById("myImg");
var modalImg = document.getElementById("img01");
var captionText = document.getElementById("caption");
img.onclick = function(){
  modal.style.display = "block";
  modalImg.src = this.src;
  captionText.innerHTML = this.alt;
}

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}
</script>
